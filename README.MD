# üöÄ TurboLauncher: RAG Document Intelligence

![FastAPI](https://img.shields.io/badge/FastAPI-005571?style=for-the-badge&logo=fastapi)
![OpenAI](https://img.shields.io/badge/OpenAI-412991?style=for-the-badge&logo=openai&logoColor=white)
![Pinecone](https://img.shields.io/badge/Pinecone-000000?style=for-the-badge&logo=pinecone)
![SQLite](https://img.shields.io/badge/SQLite-07405E?style=for-the-badge&logo=sqlite&logoColor=white)

**TurboLauncher** es un motor de b√∫squeda y respuesta inteligente basado en **RAG (Retrieval-Augmented Generation)**. Permite a los usuarios cargar archivos PDF, procesarlos para extraer su conocimiento y realizar consultas en lenguaje natural, obteniendo respuestas precisas y contextualmente relevantes basadas exclusivamente en sus documentos personales.

---

## üê≥ Despliegue con Docker Compose (Recomendado)

La forma m√°s r√°pida y robusta de levantar el proyecto es utilizando **Docker**. Esto garantiza que todas las dependencias (Python, librer√≠as de PDF, seguridad) se configuren autom√°ticamente en un entorno aislado.



### 1. Requisitos
* Tener instalado [Docker Desktop](https://www.docker.com/products/docker-desktop/).
* Un archivo `.env` en la ra√≠z con tus credenciales.

### 2. Archivo `docker-compose.yml`
Aseg√∫rate de tener un archivo llamado `docker-compose.yml` con la siguiente configuraci√≥n:

| Par√°metro | Descripci√≥n |
| :--- | :--- |
| **Persistencia** | Los datos de usuarios (`iachatbot.db`) y los PDFs se guardan en tu PC. |
| **Aislamiento** | La API corre en el puerto 8000 dentro y fuera del contenedor. |
| **Auto-restart** | El servicio se reinicia autom√°ticamente si falla. |

### 3. Comandos para iniciar
Desde la terminal en la carpeta del proyecto:

```bash
# Construir la imagen y levantar el servicio en segundo plano
docker compose up -d --build

# Ver el estado del contenedor
docker ps

# Ver los logs en tiempo real (para depuraci√≥n)
docker logs -f turbolauncher-app

--

## ‚ú® Caracter√≠sticas Principales

* üîê **Seguridad Avanzada**: Implementaci√≥n de autenticaci√≥n OAuth2 con tokens JWT y hashing de contrase√±as mediante Bcrypt.
* üìÑ **Procesamiento de PDF**: Extracci√≥n automatizada de texto y limpieza de caracteres especiales.
* üß† **Embeddings de Nueva Generaci√≥n**: Uso del modelo `text-embedding-3-small` de OpenAI con 1024 dimensiones para una representaci√≥n sem√°ntica superior.
* ‚ö° **B√∫squeda Vectorial**: Almacenamiento e indexaci√≥n en **Pinecone** para una recuperaci√≥n de informaci√≥n en milisegundos.
* ü§ñ **GPT-4o Integration**: Generaci√≥n de respuestas utilizando el modelo m√°s reciente de OpenAI, limit√°ndose estrictamente al contexto proporcionado.
* üë§ **Privacidad Multi-usuario**: Filtros de b√∫squeda basados en metadatos para asegurar que cada usuario acceda solo a su propia informaci√≥n.

---

## üõ†Ô∏è Stack Tecnol√≥gico

| Herramienta | Funci√≥n |
| :--- | :--- |
| **FastAPI** | Framework principal para la construcci√≥n de la API REST. |
| **OpenAI API** | Generaci√≥n de embeddings vectoriales y respuestas con GPT-4o. |
| **Pinecone** | Base de datos vectorial para el almacenamiento de chunks. |
| **SQLite** | Gesti√≥n persistente de cuentas de usuario y credenciales. |
| **LangChain** | Segmentaci√≥n inteligente de texto (RecursiveCharacterTextSplitter). |
| **Jose/JWT** | Firma y validaci√≥n de tokens de acceso seguros. |

---

## üèóÔ∏è Flujo de Trabajo (Arquitectura)

1.  **Registro/Login**: El usuario se autentica para obtener un token de acceso.
2.  **Carga de PDF**: Se sube un archivo, el cual se divide en fragmentos (chunks) con solapamiento para no perder contexto.
3.  **Vectorizaci√≥n**: Cada fragmento se convierte en un vector num√©rico mediante la API de OpenAI.
4.  **Indexaci√≥n**: Los vectores se suben a Pinecone junto con metadatos (ID de usuario, p√°gina, nombre del archivo).
5.  **Consulta RAG**: Al preguntar, el sistema busca los 5 fragmentos m√°s similares en Pinecone y los env√≠a a GPT-4o como contexto para generar la respuesta.

---

## üìÇ Estructura del C√≥digo

* `main.py`: Orquestador de la aplicaci√≥n y definici√≥n de rutas (endpoints).
* `auth.py`: L√≥gica de seguridad, creaci√≥n y validaci√≥n de tokens.
* `pdf_processing.py`: Herramientas de extracci√≥n, limpieza y chunking de documentos.
* `db_pinecone.py`: Conector y cliente para la base de datos vectorial.
* `database.py`: Gesti√≥n de la base de datos local SQLite.
* `openai_utils.py`: Funciones para interactuar con los modelos de OpenAI.

---

## üöÄ Configuraci√≥n Inicial

### Variables de Entorno
Crea un archivo `.env` en la ra√≠z del proyecto con las siguientes claves:
```env
OPENAI_API_KEY="sk-..."
PINECONE_API_KEY="tu_api_key_de_pinecone"